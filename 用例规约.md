税务申报系统用例规约	
用例编号：US001 用例名：税务申报

执行者：
财务人员（主）、税务局系统（辅）

前置条件：
1. 财务人员已成功登录系统
2. 当期财务报表已生成并审核完成
3. 系统已连接到税务局申报平台

后置条件：
1. 税务申报表已成功提交至税务局系统
2. 系统记录了申报时间和申报内容
3. 申报状态更新为“已申报”

涉众利益：
企业总经理：希望申报准确及时，避免税务风险和经济损失
财务人员：希望申报过程简便，减少手动计算和重复操作
税务局：希望接收的申报数据格式规范、内容准确
系统管理员：希望申报过程稳定，数据备份完整

基本路径：
1. 财务人员选择“税务申报”功能
2. 系统显示当期可申报的税种列表（增值税、企业所得税等）
3. 财务人员选择要申报的税种
4. 系统自动从财务报表中提取相关数据，生成申报表草稿
5. 系统验证申报数据的完整性和逻辑正确性
6. 财务人员确认申报表内容
7. 系统通过接口将申报数据提交至税务局系统
8. 系统接收税务局系统的申报回执
9. 系统保存申报记录和回执信息
10. 系统显示申报成功信息

扩展路径：
4a. 系统检测到财务报表数据不完整：
    4a1. 系统提示缺失的数据项
    4a2. 财务人员补充相关数据
    4a3. 返回步骤4
    
5a. 数据验证发现逻辑错误：
    5a1. 系统高亮显示错误数据项并给出错误说明
    5a2. 财务人员修正数据
    5a3. 返回步骤4
    
7a. 税务局系统连接失败：
    7a1. 系统提示网络连接问题
    7a2. 财务人员选择重试或稍后申报
    7a3. 如选择重试，返回步骤7
    
8a. 税务局系统返回申报失败：
    8a1. 系统显示失败原因
    8a2. 财务人员根据提示修正申报数据
    8a3. 返回步骤4

字段列表：
申报信息=纳税人识别号+纳税人名称+申报期间+税种+计税依据+应纳税额+减免税额+已缴税额+应补(退)税额
申报期间=起始日期+结束日期
计税依据=销售收入+进项税额+销项税额+利润总额+应纳税所得额
申报状态=草稿|已提交|已受理|已退回|申报成功

业务规则：
1. 增值税申报必须在次月15日前完成
2. 企业税务计算应符合相关法律法规规定

质量需求：
1. 系统应具有高效率，快速响应请求。
2. 系统应保证申报数据的准确性。
3. 系统应支持在申报高峰期的高并发场景。

设计约束：
1. 系统必须支持与金税系统的数据接口标准
2. 申报表格式必须符合国家税务总局发布的《电子申报数据接口标准》
3. 系统必须使用国密算法对申报数据进行加密传输
4. 申报数据必须保存10年以上备查
对账系统用例规约
用例编号：US002  用例名：对账

执行者：
财务人员（主）、银行系统（辅）

前置条件：
1. 财务人员已成功登录系统；
2. 系统已获取到指定周期内的企业银行流水账；
3. 系统已获取到指定周期内的企业账面记账记录。

后置条件：
1. 对账操作被系统记录；
2. 未达账项被清晰标识并生成余额调节表；
3. 对账状态更新为“已完成”。

涉众利益：
企业总经理：希望资金账目清晰、准确，及时掌握真实资金状况，防范资金风险；
财务人员：希望自动化对账，减少繁琐的人工勾兑工作，提高效率并降低出错率；
审计人员：希望有清晰的对账痕迹和完整的调节表，便于审计追踪；
系统管理员：希望对账过程稳定，不因数据量大而导致系统性能下降。

基本路径：
1. 财务人员选择“对账”功能；
2. 系统提示选择对账周期（例如：2025年9月）；
3. 财务人员选择对账周期并确认；
4. 系统自动从银行系统接口获取该周期的银行对账单；
5. 系统从本系统数据库获取同期的企业账面银行账记录；
6. 系统根据“金额”、“日期”、“摘要”等关键信息进行自动匹配；
7. 系统标识出已匹配的记录和未匹配的记录（未达账项）；
8. 系统自动生成银行余额调节表；
9. 系统显示对账结果，包括匹配情况、未达账项列表和余额调节表；
10. 财务人员审阅对账结果；
11. 财务人员确认对账结果无误；
12. 系统保存对账结果，并将相关账务记录标记为“已核对”。

扩展路径：
4a. 获取银行对账单失败：
    4a1. 系统提示“银行接口连接失败，请检查网络或稍后重试”；
    4a2. 财务人员可选择“重试”或“取消”；
    4a3. 若选择“重试”，则返回步骤4。

6a. 系统发现同一笔企业记账在银行流水中有多笔相似记录可能匹配：
    6a1. 系统将这些记录标记为“待确认匹配项”，并高亮显示；
    6a2. 财务人员手动选择正确的匹配项或标记为不匹配；
    6a3. 系统更新匹配结果。

7a. 系统发现金额一致但摘要信息差异过大的记录：
    7a1. 系统将这些记录标记为“疑似匹配，需核实”；
    7a2. 财务人员核实后，可强制匹配或将其列为未达账；
    7a3. 系统根据财务人员的操作更新状态。

11a. 财务人员发现对账结果有误：
    11a1. 财务人员不确认结果，选择“取消”；
    11a2. 系统退回至对账初始状态，不保存任何结果；
    11a3. 财务人员修正原始记账数据或银行流水数据后，重新发起对账流程。

字段列表：
对账任务 = 对账周期 + 对账状态 + 执行人 + 执行时间
银行流水记录 = 交易日期 + 交易摘要 + 借方金额 + 贷方金额 + 余额 + 流水号
企业记账记录 = 记账日期 + 凭证号 + 摘要 + 借方金额 + 贷方金额
对账结果 = 已匹配记录集 + 未达账项集 + 余额调节表
未达账项 = 类型[企业已收银行未收 | 企业已付银行未付 | 银行已收企业未收 | 银行已付企业未付] + 金额 + 业务日期 + 描述
余额调节表 = 企业账面余额 + 银行已收企业未收金额 - 银行已付企业未付金额 = 调节后企业账余额 || 银行对账单余额 + 企业已收银行未收金额 - 企业已付银行未付金额 = 调节后银行账余额

业务规则：
1. 对账周期通常以自然月为单位；
2. 自动匹配规则优先顺序为：流水号一致 > 金额与交易日期均一致 > 金额与摘要关键字均一致；
3. 调节后的企业账余额与调节后的银行账余额必须相等。

质量需求：
1. 系统应能够快速准确处理大量账目
2. 系统应支持在对账过程中手动干预和调整。 

设计约束：
1. 系统必须支持从主流银行（如工商银行、建设银行等）的网银系统通过标准接口（如银企直连）获取数据；
2. 所有对账操作必须留有审计日志，记录操作人、操作时间和操作内容；
3. 系统生成的余额调节表格式需符合《企业会计制度》标准格式。

记账系统用例规约

用例编号：US003 用例名：记账

执行者：
主执行者：会计人员 辅执行者：审核人员（间接）

前置条件：
1. 会计人员已成功登录记账系统。
2. 该会计人员的账号已被授予"填制凭证"或"记账"的相应操作权限。
3. 系统中已初始化设置必要的会计科目。

后置条件：
1. 系统成功保存一张新的记账凭证。
2. 凭证状态为"已保存"或"待审核"。

涉众利益：
财务人员：希望系统提供一个直观、准确的界面，以便快速、无误地记录每一笔经济业务，并完全控制每一笔分录的账户分配。
企业管理者：希望所有账务记录都准确无误，符合会计准则，便于财务审计和决策。

基本路径：
1. 用户进入“手动记账”功能界面；
2. 系统提供一个空白的记账模板，包含日期、描述/摘要、以及至少两个空白的记账行；
3. 用户输入交易日期和描述；
4. 用户在第一个记账行中，手动从账户列表中选择一个或多个“借方账户”，并输入金额；
5. 用户在第二个记账行中，手动从账户列表中选择一个或多个“贷方账户”，系统自动设置借方相等的金额；
6. 用户点击“保存”或“过账”；
7. 系统保存该笔交易，并更新相关账户的余额。

扩展路径：
4a. 用户在选择借方账户时，发现需要的账户不存在：
    4a1. 用户点击账户选择框旁的“新建账户”按钮；
    4a1.1. 系统弹出“添加会计科目”窗口；
    4a1.2. 用户输入新账户名称（如“资产:固定资产:笔记本电脑”），选择账户类型（资产、负债、权益、收入、支出）、父级账户（可选）等信息；
    4a1.3. 系统验证账户名称的有效性与唯一性；
    4a1.4. 用户保存新账户；
    4a1.5. 系统关闭窗口，并自动将新建的账户填入当前记账行的账户字段。
    4a2. 流程继续至步骤5。

5a. 用户在选择贷方账户时，发现需要的账户不存在：处理方式同扩展路径4a。

6a. 用户在保存前希望删除某条记账行：
    6a1. 用户点击该记账行旁的“删除”按钮；
    6a2. 系统将该行从记账模板中移除。

6b. 用户需要记录一笔涉及多个借方或多个贷方的复杂分录：
    6b1. 用户点击“添加一行”按钮；
    6b2. 系统在记账模板中新增一个空白行；
    6b3. 用户为新行选择账户并输入金额，确保所有借方金额总和等于所有贷方金额总和；
    6b4. 流程继续至步骤6。


7a. 交易保存后，用户发现账户选择错误，需要修改：
    7a1. 用户在“交易查询”界面找到该笔交易；
    7a1.1. 系统检查交易是否已被结账或锁定；
    7a1.2a. 若未被锁定，系统允许用户编辑交易的所有信息，用户修正账户后重新保存；
    7a1.2b. 若已被锁定，系统提示“该期间已结账，此交易不可修改”。

另外：8a. 用户需要删除账户
8a1. 用户进入“账户列表”管理界面；
8a2. 用户选择目标账户；
8a3. 系统检查该账户当前余额是否为零，以及是否有历史交易记录；
8a4a. 若账户余额为零且无任何历史交易记录：系统允许直接删除，并提示“账户已删除”；
8a4b. 若账户有余额或存在历史交易：系统禁止删除，并提示“此账户存在交易记录或余额不为零，无法删除。建议将其【禁用】”。

字段列表：
交易 = 交易日期 + 描述/摘要 + 交易行集
交易行 = 账户 + 借贷方向[借 | 贷] + 金额
账户 = 账户名称 + 账户类型[资产 | 负债 | 权益 | 收入 | 支出] + 父账户 + 启用状态[启用 | 禁用]

业务规则：
1. 核心规则：有借必有贷，借贷必相等。单笔交易所有借方金额之和必须等于所有贷方金额之和。
2. 资产、支出类账户，借方表示增加，贷方表示减少。
3. 负债、权益、收入类账户，贷方表示增加，借方表示减少。
4. 已禁用的账户不能在新交易中被选用。

质量需求：
1. 账户列表的加载和筛选响应时间应小于1秒。
2. 保存一笔常规交易的系统响应时间应小于3秒。

设计约束：
1. 界面必须清晰地区分借方和贷方输入区域（如借左贷右，或用不同颜色标识）。
2. 系统必须实时计算并显示借贷双方的合计金额，辅助用户进行平衡检查。
3. 账户体系必须支持树状结构，方便用户逐级查找。

生成财务报表系统用例规约

用例编号：US004  用例名：生成财务报表

执行者：
财务人员（主），企业管理者（辅）

前置条件：
1. 用户已成功登录系统；
2. 系统中存在指定会计期间内已审核的完整账务数据；
3. 必要的账户体系及报表模板已正确设置。

后置条件：
1. 系统根据用户选择的参数生成了指定的财务报表；
2. 生成的报表可被查看、打印或导出。

涉众利益：
企业管理者/总经理：希望快速、便捷地获取准确、规范的财务报表（如利润表、资产负债表），以了解企业经营状况和财务成果，支持决策。
财务人员：希望报表生成过程稳定、快速，报表数据自动从账务数据中提取，无需手动计算和拼接，且格式符合会计准则。
税务/审计人员：希望报表数据真实、完整，勾稽关系正确，便于审计和报税。

基本路径：
1. 用户进入“财务报表”功能模块；
2. 系统展示可生成的报表类型列表（如：利润表、资产负债表、现金流量表）；
3. 用户选择需要生成的报表类型（例如：“利润表”）；
4. 系统提示用户选择报表期间（如：2025年9月，或2025年第三季度）；
5. 用户选择报表期间并确认；
6. 系统根据所选报表类型的模板和规则，从账务数据库中提取指定期间内的相关数据；
7. 系统进行数据计算、汇总，并填充至报表模板；
8. 系统校验报表内部的关系（如：资产=负债+所有者权益）；
9. 系统将生成完毕的报表显示给用户；
10. 用户审阅报表内容。

扩展路径：
4a. 用户在选择报表类型时，希望预览报表模板格式：
    4a1. 用户点击“预览模板”按钮；
    4a1.1. 系统显示一个空的或示例数据的报表格式；
    4a1.2. 用户关闭预览窗口后，返回步骤3。

6a. 系统在提取数据过程中，发现指定期间内账务数据不完整或未结账：
    6a1. 系统提示“指定期间（2025年9月）的账务尚未结账，数据可能不完整，是否继续生成？”；
    6a2. 用户可选择“继续生成”或“取消”；
    6a2.1. 若用户选择“继续生成”，系统使用当前已有数据生成报表，并在报表页眉醒目位置标注“未结账，仅供参考”；
    6a2.2. 若用户选择“取消”，则终止本次操作。

8a. 系统校验发现报表勾稽关系不平衡（如资产负债表不平）：
    8a1. 系统在报表显示界面高亮显示不平衡的项目及差额；
    8a2. 系统提示“报表数据不平衡，可能由于账务错误或调整项未处理，请检查相关账务”；
    8a3. 生成的报表被标记为“不平衡”，用户需检查并修正底层账务数据后重新生成。

10a. 用户审阅后，需要将报表导出：
    10a1. 用户点击“导出”按钮；
    10a1.1. 系统提供导出格式选项（如：PDF、Excel）；
    10a1.2. 用户选择格式并确认；
    10a1.3. 系统将当前报表按选定格式生成文件，并提供下载。

10b. 用户审阅后，需要打印报表：
    10b1. 用户点击“打印”按钮；
    10b1.1. 系统调用打印预览界面，优化报表的打印布局；
    10b1.2. 用户连接打印机并执行打印操作。

字段列表：
报表生成请求 = 报表类型 + 报表期间 + 生成时间 + 生成人
利润表 = 营业收入 - 营业成本 - 各项费用 … = 净利润
资产负债表 = 资产总计（流动资产 + 非流动资产） = 负债总计（流动负债 + 非流动负债） + 所有者权益总计（实收资本 + 留存收益 …）
现金流量表 = 经营活动现金流量 + 投资活动现金流量 + 筹资活动现金流量 = 现金及现金等价物净增加额

业务规则：
1. 利润表反映特定时期的经营成果，资产负债表反映特定时点的财务状况；
2. 报表数据必须源自已过账的会计凭证，保证数据源的一致性；
3. 资产负债表的“资产总计”必须等于“负债和所有者权益总计”；
4. 利润表中的“净利润”应与资产负债表中“留存收益”的变动额勾稽一致（考虑分红等因素）。

质量需求：
1. 系统应高效生成一份标准利润表或资产负债表
2. 报表数据的计算必须100%准确，与底层账务数据完全一致；
3. 导出的PDF或Excel文件应保持报表格式清晰、规范。

设计约束：
1. 报表模板的格式（如项目顺序、计算公式）必须符合中国企业会计准则或小企业会计准则的规定；
2. 系统必须支持报表的“重算”功能，当底层数据修正后，可以重新生成报表；
3. 生成的报表应为只读状态，如需修改必须追溯到原始凭证。

企业内部人员管理系统用例规约
用例编号：US005 用例名：企业内部人员管理

执行者：
系统管理员（主）

前置条件：
1. 系统管理员已成功登录系统；
2. 系统管理员拥有“用户管理”的最高权限。

后置条件：
1. 员工账户信息（新增、修改、禁用）已被系统保存；
2. 员工的系统操作权限已根据其角色进行更新。

涉众利益：
系统管理员：希望有一个集中、高效的界面来管理所有用户的账户和权限，确保系统安全，避免权限混乱。
企业管理者：希望不同岗位的员工只能访问其职责范围内的数据和功能，实现有效的职责分离（如制单与审核不为同一人），保障财务数据的安全与合规。
普通员工：希望自己的账户能顺利访问被授权的功能，同时个人隐私信息得到保护。

基本路径：
1. 系统管理员进入“用户与权限管理”功能模块；
2. 系统显示现有员工账户列表，包含姓名、用户名、角色、状态等信息；
3. 系统管理员点击“新增用户”按钮；
4. 系统弹出“新建员工账户”表单；
5. 系统管理员输入新员工的基本信息（姓名、工号、部门、职位）和账户信息（用户名、初始密码）；
6. 系统管理员从预定义的角色列表（如：财务专员、财务经理、出纳、销售员、系统管理员）中为该员工分配一个或多个角色；
7. 系统管理员保存新账户信息；
8. 系统校验用户名唯一性，并创建该账户；
9. 系统向新员工的邮箱或手机发送账户激活通知（含初始密码和登录链接）。

扩展路径：
3a. 系统管理员需要修改现有员工账户：
    3a1. 系统管理员从账户列表中选择一个员工账户；
    3a2. 系统管理员点击“编辑”按钮；
    3a3. 系统显示该员工的详细信息表单；
    3a4. 系统管理员可修改其基本信息、重置密码或调整其角色；
    3a5. 系统管理员保存修改。

3b. 员工离职或调岗，系统管理员需要禁用其账户：
    3b1. 系统管理员从账户列表中选择目标账户；
    3b2. 系统管理员点击“禁用”按钮；
    3b3. 系统弹出确认提示；
    3b4. 系统管理员确认；
    3b5. 系统将该账户状态置为“禁用”，但保留其所有历史操作记录以供审计。

5a. 系统管理员在输入信息时，发现该员工所属部门不在列表中：
    5a1. 系统管理员点击“部门”选择框旁的“管理”按钮；
    5a1.1. 系统跳转至“组织架构管理”子模块（或弹出浮层）；
    5a1.2. 系统管理员在此添加新的部门节点；
    5a1.3. 系统保存新的部门信息；
    5a1.4. 返回账户创建表单，新部门已出现在可选列表中。

6a. 系统管理员发现预定义的角色权限不满足需求，需要创建新角色或调整权限：
    6a1. 系统管理员点击“角色管理”标签页；
    6a1.1. 系统显示所有角色及其权限清单；
    6a1.2. 系统管理员可以“复制”一个现有角色来创建新角色，或直接编辑现有角色的权限（如：勾选或取消“凭证审核”、“报表查看”、“用户管理”等具体权限项）；
    6a1.3. 系统保存角色权限的变更。

7a. 系统校验发现用户名已存在：
    7a1. 系统提示“用户名已存在，请更换”；
    7a2. 系统管理员修改用户名后，重新保存。

字段列表：
员工账户 = 员工ID + 姓名 + 工号 + 部门 + 职位 + 用户名 + 密码（加密存储） + 账户状态[启用 | 禁用] + 角色集
角色 = 角色名称 + 角色描述 + 权限集
权限 = 权限代码 + 权限名称（如：`VOUCHER_CREATE`：填制凭证，`REPORT_VIEW`：查看报表，`USER_MGMT`：用户管理）
部门 = 部门代码 + 部门名称 + 父部门

业务规则：
1. 一个员工可以拥有多个角色，其总权限是所有角色权限的并集；
2. “系统管理员”角色权限最高，且只能由现有的系统管理员分配；
3. 关键权限必须互斥，例如，同一用户不能同时拥有“填制凭证”和“审核凭证”的权限，以实现职责分离；
4. 已禁用的用户账户无法登录系统，但其创建的历史数据保持不变。

质量需求：
1. 系统应能够储存和管理大量账户
2. 权限变更应实时生效，用户再次操作时即受到新权限的限制。

设计约束：
1. 密码在数据库中必须加密存储，不可明文保存；
2. 系统必须提供完整的权限-角色-用户操作日志；
3. 角色和权限的配置界面必须清晰直观，使用复选框等控件便于管理。

企业外部人员管理系统用例规约
用例编号：US006  用例名：企业外部人员管理

执行者：
系统管理员（主）

前置条件：
1. 系统管理员已成功登录系统。

后置条件：
1. 外部联系人的基本信息（新增、修改、停用）已被系统保存；
2. 该联系人的信息可用于后续的业务流程（如创建采购单、销售单）。

涉众利益：
系统管理员：希望有一个集中的平台来维护所有外部实体的基础信息，确保数据的准确性和统一性，便于系统其他模块调用。
采购专员/销售专员：希望在创建业务单据时，能从系统管理员维护的规范列表中选择正确的供应商或客户，避免信息混乱或重复。
财务人员：希望获得由系统管理员维护的、准确的开户行和银行账号信息，确保收付款操作的准确性。
企业管理者：希望通过系统化的集中管理，掌握完整的供应商和客户资源，防范合作风险。

基本路径：
1. 系统管理员进入“基础数据”下的“外部联系人管理”模块；
2. 系统显示现有外部联系人列表，可通过类型（供应商、客户等）筛选，列表信息包括名称、类型、主要联系人、状态等；
3. 系统管理员点击“新增联系人”按钮；
4. 系统弹出“新建外部联系人”表单；
5. 系统管理员输入联系人的基本信息：名称、类型（供应商／客户／合作伙伴…）、纳税人识别号、地址、电话、邮箱、主要联系人姓名；
6. 系统管理员输入联系人的财务信息：开户行、银行账号；
7. 系统管理员保存新联系人信息；
8. 系统校验关键信息（如名称、纳税人识别号）的唯一性；
9. 系统保存该联系人，并将其状态置为“活跃”。

扩展路径：
3a. 系统管理员需要修改现有联系人信息：
    3a1. 系统管理员从联系人列表中选择一个目标联系人；
    3a2. 系统管理员点击“编辑”按钮；
    3a3. 系统显示该联系人的详细信息表单；
    3a4. 系统管理员更新信息；
    3a5. 系统管理员保存修改。系统记录修改日志。

3b. 终止与某外部联系人的合作，系统管理员需要停用该联系人：
    3b1. 系统管理员从联系人列表中选择目标联系人；
    3b2. 系统管理员点击“停用”按钮；
    3b3. 系统弹出确认提示：“停用后，新业务单据中将无法选择此联系人，但不影响历史记录。是否继续？”；
    3b4. 系统管理员确认；
    3b5. 系统将该联系人状态置为“停用”，并将其从默认选择列表中隐藏。

8a. 系统校验发现纳税人识别号与系统中已有的记录重复：
    8a1. 系统提示“该纳税人识别号已存在于系统，对应的联系人为【XXX】。请确认是否为同一实体，避免重复创建。”；
    8a2. 系统管理员可选择“取消创建”或“强制创建”（用于处理极端特殊情况，并需在日志中注明原因）。

字段列表：
外部联系人 = 联系人ID + 名称 + 类型[供应商 | 客户 | …] + 纳税人识别号 + 地址（可选） + 联系电话 + 邮箱（可选） + 主要联系人 （可选）+ 开户行 + 银行账号 + 状态[活跃 | 停用]

业务规则：
1. 同一纳税人识别号在“活跃”状态的联系人中应保持唯一；
2. 状态为“停用”的联系人，不能在新的采购订单或销售订单中被选中；
3. 外部联系人的“类型”属性是必填项。

质量需求：
1. 系统加载外部联系人列表（支持分页和筛选）时应快速响应
2. 联系人信息的模糊搜索（按名称）应快速返回结果。

设计约束：
1. 系统应支持外部联系人信息的批量导入（通过Excel模板）和导出；
2. 联系人的银行账号等敏感信息在界面显示时需进行部分脱敏处理（如显示后四位）。

企业初始化系统用例规约

用例编号：US007 用例名：初始化企业

执行者：
系统管理员（主）

前置条件：
1. 系统已成功安装，且系统管理员拥有最高权限；
2. 系统处于未初始化状态，或虽已初始化但允许重新初始化（需高级权限确认）。

后置条件：
1. 系统已为企业创建了一个独立的账套；
2. 核心的基础数据（如科目表、货币、财务期间）已建立；
3. 系统的启用日期和初始余额已设定；
4. 系统从初始化状态转为可进行日常业务处理的状态。

涉众利益：
系统管理员：希望流程清晰、引导性强，能准确无误地完成所有关键设置，为后续所有用户的使用打下坚实基础。
企业所有者/总经理：希望初始数据（特别是期初余额）绝对准确，这直接关系到未来所有财务报表的起点是否正确。
财务人员：希望系统预置的科目表等基础数据符合企业所在行业的会计准则，便于后续操作。

基本路径：
1. 系统管理员首次登录系统，系统自动检测到未初始化，并引导至“初始化向导”；或系统管理员手动在“系统设置”中找到并启动“初始化账套”功能；
2. 系统显示初始化向导首页，说明初始化的重要性和不可逆性；
3. 系统管理员输入企业账套的基本信息：企业名称、税号、默认货币、会计制度（如：小企业会计准则）、账套启用日期；
4. 系统根据选择的“会计制度”，自动预置一套标准会计科目表，并显示给系统管理员确认；
5. 系统管理员确认或稍作调整后，进入“设置科目初始余额”环节；
6. 系统显示所有资产、负债和权益类科目的列表，要求录入在“账套启用日期”这一时点的初始余额；
7. 系统管理员根据企业开业至今的累计财务数据，逐一录入各科目的初始余额；
8. 系统实时校验“资产 = 负债 + 所有者权益”的平衡关系；
9. 当等式平衡后，系统管理员点击“完成初始化”；
10. 系统再次强调该操作不可逆，并要求确认；
11. 系统管理员最终确认；
12. 系统保存所有初始化设置，锁定启用日期和初始余额，并将账套状态置为“已初始化”。

扩展路径：
4a. 系统管理员需要对预置科目进行增、删、改：
    4a1. 系统管理员点击“自定义科目”按钮；
    4a1.1. 系统提供科目表的树形编辑界面，支持新增、删除、修改科目名称和编码；
    4a1.2. 系统管理员进行调整；
    4a1.3. 调整完毕后，继续下一步。

8a. 系统校验发现初始余额不平衡：
    8a1. 系统高亮显示不平衡的差额，并红色提示“期初余额不平衡，资产 ≠ 负债 + 所有者权益，差额为：[金额]”；
    8a2. 系统禁止进入下一步，系统管理员必须检查并修正数据，直至平衡。

9a. 系统管理员在完成前希望保存当前进度以便稍后继续：
    9a1. 系统管理员点击“保存草稿”；
    9a1.1. 系统将已填写的信息保存为初始化草稿；
    9a1.2. 下次进入时，系统可从草稿点继续。

11a. 系统检测到当前系统中已存在业务数据（在允许重新初始化的特殊情况下）：
    11a1. 系统弹出严重警告，提示“重新初始化将清空所有已存在的业务数据和凭证！此操作不可撤销！”；
    11a2. 系统要求系统管理员输入确认短语（如“我确认清空所有数据”）后方可执行。

字段列表：
账套信息 = 企业名称 + 纳税人识别号 + 默认货币 + 所采用的会计制度 + 账套启用日期
会计科目 = 科目编码 + 科目名称 + 科目类别[资产、负债、权益、成本、损益] + 余额方向[借、贷] + 期初余额
初始化状态 = [未开始 | 进行中 | 已完成]

业务规则：
1. 初始化过程中，最核心的规则是：**资产类科目期初余额合计 = 负债类科目期初余额合计 + 所有者权益类科目期初余额合计**。
2. 损益类科目（收入、成本、费用）的期初余额必须为零。
3. 账套一旦完成初始化，其“启用日期”和“初始余额”将被锁定，原则上不可更改。
4. 科目编码必须符合所选“会计制度”的编码规范，且保持唯一性。

质量需求：
1. 系统加载和渲染标准科目表的时间应小于5秒；
2. 初始余额的平衡校验应在每次数据变更后1秒内完成并给出反馈。

设计约束：
1. 初始化向导界面必须步骤清晰，有明确的进度指示（如1/4、2/4）；
2. 系统必须提供初始化数据的模板导出和导入功能（尤其是科目初始余额），方便用户线下准备数据；
3. 完成初始化后，系统应有明确的视觉提示（如界面布局从设置模式转为业务操作模式）。

过账系统用例规约

用例编号：UC008 用例名：过账

执行者：
主执行者：会计人员 辅执行者：系统（自动处理）

前置条件：
1. 会计人员已成功登录记账系统。
2. 该会计人员的账号已被授予"过账"的相应操作权限。
3. 系统中存在状态为"已审核"的记账凭证。

后置条件：
1. 选定凭证的状态变更为"已过账"。
2. 凭证数据被更新到相应的总账和明细账中。
3. 相关科目的余额实时更新。

涉众利益：
会计人员：需要将已审核的凭证数据正式记入账簿
企业主：希望过账过程准确无误
系统：需要确保账簿数据的一致性。

基本路径：
1. 会计人员在系统主菜单中选择"凭证管理"下的"凭证过账"功能。
2. 系统显示待过账凭证列表，列出所有状态为"已审核"但未过账的凭证，包含凭证日期、凭证号、摘要等基本信息。
3. 会计人员选择需要过账的凭证范围
4. 会计人员点击"执行过账"按钮。
5. 系统对选定的凭证执行过账前校验，确保所有选定凭证均为"已审核"状态。
6. 校验通过后，系统开始执行过账操作：
   a. 将选定凭证的状态更新为"已过账"
   b. 将凭证分录数据记入相应的明细账簿
   c. 更新相关科目的总账余额
7. 系统显示过账完成提示，并展示过账结果摘要（如：成功过账X张凭证）。
8. 系统刷新界面，显示剩余的待过账凭证。

扩展路径：
5a. 发现未审核凭证：
    5a1. 系统校验发现选定的凭证中包含非"已审核"状态的凭证，则提示"选择的凭证中包含未审核凭证，无法过账"。
    5a2. 系统列出所有不符合条件的凭证。
    5a3. 用例返回到凭证选择状态，会计人员可以调整选择范围。

字段列表：
凭证状态： 未审核/已审核/已过账
账簿更新信息： 科目编码+借贷方向+金额+余额

业务规则：
只有状态为"已审核"的凭证才能执行过账操作。
已过账的凭证不能再修改或删除，如需变更必须通过冲销凭证处理。
